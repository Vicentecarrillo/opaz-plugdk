{"body":"This is just a placeholder.\r\n\r\n```ruby\r\ninclude_class Java::DubyTools\r\n\r\nclass DubyFilta < OpazPlug\r\n  plugin \"DubyFilta\", \"Opaz\", \"LoGeek\"\r\n  can_do \"1in1out\", \"plugAsChannelInsert\", \"plugAsSend\"\r\n  unique_id \"dflt\"\r\n  \r\n  param :cut_off,   \"Cut Off\",         1.0\r\n  param :resonance, \"Resonance\",       0.1\r\n  param :mode,      \"Mode (LP or HP)\",   0\r\n\r\n  def filter\r\n    @filter ||= DubyTools.new\r\n  end\r\n  \r\n  def process(inputs, outputs, sampleFrames)\r\n    filter.recompute_parameters(cut_off, resonance, (mode < 0.5 ? +1 : -1), sample_rate)\r\n    filter.apply(inputs[0], outputs[0], sampleFrames)\r\n  end\r\nend\r\n```\r\n\r\n```mirah\r\nclass DubyTools\r\n  def not_below(val:float,min:float)\r\n    val < min ? min : val\r\n  end\r\n  \r\n  def recompute_parameters(cutoff:float, resonance:float, mode:float, sampleRate:float)\r\n    @r = not_below( (1-resonance) * 10, float(0.1) )\r\n    @f = not_below( cutoff * sampleRate / 4, float(40.0) )\r\n    c = Math.tan(3.141592653589793 * @f / sampleRate)\r\n    @c = float((mode == 1) ? (1/c) : c)\r\n    @a1 = 1 / ( 1 + @r * @c + @c * @c)\r\n    @a2 = mode * 2* @a1\r\n    @a3 = @a1\r\n    @b1 = mode * 2 * ( 1 - @c*@c) * @a1\r\n    @b2 = ( 1 - @r * @c + @c * @c) * @a1\r\n  end\r\n  \r\n  def apply(input0:float[], output0:float[], sampleFrames:int)\r\n    output0[0] = @a1 * input0[0] + @a2 * @ih1_1 + @a3 * @ih1_2 - @b1*@oh1_1 - @b2*@oh1_2\r\n    output0[1] = @a1 * input0[1] + @a2 * input0[0] + @a3 * @ih1_1 - @b1*output0[0] - @b2*@oh1_1\r\n\r\n    sample = 2\r\n    while sample < sampleFrames\r\n      output0[sample] = @a1*input0[sample] + @a2*input0[sample-1] + @a3*input0[sample-2] - @b1*output0[sample-1] - @b2*output0[sample-2]\r\n      sample += 1\r\n    end\r\n\r\n    @ih1_1 = input0[sampleFrames-1]\r\n    @ih1_2 = input0[sampleFrames-2]\r\n    @oh1_1 = output0[sampleFrames-1]\r\n    @oh1_2 = output0[sampleFrames-2]\r\n  end\r\nend\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Opaz-plugdk","tagline":"Implement your VST plugins with JRuby, Mirah, Java and JavaFX"}